<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>❤️</title>
<style>
body {
    margin:0;
    padding:0;
    font-family: Arial, sans-serif;
    height:100vh;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    background: radial-gradient(circle, #ffb6c1 0%, #ff8fa3 100%);
    animation: bgShift 10s infinite alternate;
    position: relative;
}

@keyframes bgShift {
    0% {background: linear-gradient(135deg, #ff9a9e, #fad0c4);}
    50% {background: linear-gradient(135deg, #a18cd1, #fbc2eb);}
    100% {background: linear-gradient(135deg, #84fab0, #8fd3f4);}
}

/* Plutajuća srca u pozadini */
.heart {
    position: absolute;
    color: rgba(255, 0, 100, 0.5);
    font-size: 24px;
    animation: float 10s linear infinite;
    z-index: 0;
}

@keyframes float {
    0% {
        transform: translateY(100vh) scale(0.8);
        opacity: 1;
    }
    100% {
        transform: translateY(-10vh) scale(1.2);
        opacity: 0;
    }
}

#container {
    position: relative;
    width: 80%;
    max-width: 900px;
    height: 600px;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(0,0,0,0.3);
    z-index: 5;
}

.box {
    width: 80px;
    height: 80px;
    background-color: #fff;
    border-radius: 10px;
    position: absolute;
    cursor: pointer;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size: 2em;
    color: #ff4d6d;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    transition: transform 0.3s;
    z-index: 10;
}

.box:hover {
    transform: scale(1.2) rotate(10deg);
}

.message {
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-size:2em;
    color:white;
    text-shadow:2px 2px 10px rgba(0,0,0,0.7);
    opacity:0;
    animation: showMessage 1s forwards;
    z-index: 20;
}

@keyframes showMessage {
    0% {opacity:0; transform:translate(-50%,-60%) scale(0.8);}
    50% {opacity:1; transform:translate(-50%,-50%) scale(1.2);}
    100% {opacity:1; transform:translate(-50%,-50%) scale(1);}
}

/* Veliko slovo A u pozadini */
.big-letter {
    position: absolute;
    font-size: 18em;
    font-weight: bold;
    color: rgba(255, 0, 0, 0.1);
    text-shadow: 0 0 40px rgba(97, 13, 52, 0.4);
    z-index: 1;
    animation: pulse 3s infinite ease-in-out;
    pointer-events: none;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.1; }
    50% { transform: scale(1.1); opacity: 0.25; }
}

canvas {
    position:absolute;
    top:0;
    left:0;
    pointer-events:none;
    z-index: 15;
}
</style>
</head>
<body>
<!-- Srca će se ubacivati dinamički -->
<div class="big-letter">A</div>

<div id="container">
    <div class="box" style="top:20%; left:15%;" data-msg="Nadam se da ovo neces seenat">1</div>
    <div class="box" style="top:50%; left:60%;" data-msg="Ovo je moj mali pokušaj da ispravim grešku, Azraa, zaslužuješ mnogo više.">2</div>
    <div class="box" style="top:75%; left:0%;" data-msg="Nadam se da sam ti izmamio osmjeh na lice...">3</div>
</div>
<canvas id="confetti"></canvas>

<script>
// KONFETI
const canvas = document.getElementById('confetti');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let confetti = [];
const colors = ['#ff0a54','#ff477e','#ff85a1','#fbb1b1','#f9bec7','#f0efeb'];

class Confetto {
    constructor(x,y){
        this.x=x; this.y=y;
        this.size = Math.random()*10+5;
        this.color = colors[Math.floor(Math.random()*colors.length)];
        this.speedY = Math.random()*3 + 2;
        this.speedX = Math.random()*4 - 2;
        this.rotation = Math.random()*2*Math.PI;
        this.rotationSpeed = Math.random()*0.1-0.05;
    }
    update(){
        this.y += this.speedY;
        this.x += this.speedX;
        this.rotation += this.rotationSpeed;
    }
    draw(){
        ctx.save();
        ctx.translate(this.x,this.y);
        ctx.rotate(this.rotation);
        ctx.fillStyle = this.color;
        ctx.fillRect(-this.size/2,-this.size/2,this.size,this.size);
        ctx.restore();
    }
}

function explode(x,y,count){
    for(let i=0;i<count;i++){
        confetti.push(new Confetto(x,y));
    }
}

function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    confetti.forEach((c,i)=>{
        c.update();
        c.draw();
        if(c.y>canvas.height){confetti.splice(i,1);}
    });
    requestAnimationFrame(animate);
}
animate();

// SRCAD U POZADINI
const numHearts = 60;
for (let i = 0; i < numHearts; i++) {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.textContent = '❤️';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = 6 + Math.random() * 8 + 's';
    heart.style.fontSize = 12 + Math.random() * 24 + 'px';
    heart.style.animationDelay = Math.random() * 5 + 's';
    document.body.appendChild(heart);
}

// KUTIJE I PORUKE
document.querySelectorAll('.box').forEach(box=>{
    box.addEventListener('click',(e)=>{
        const rect = box.getBoundingClientRect();
        const msgText = box.dataset.msg;

        // Poruka
        const msg = document.createElement('div');
        msg.className='message';
        msg.textContent=msgText;
        document.body.appendChild(msg);

        // Eksplozija konfeta
        explode(rect.left + rect.width/2, rect.top + rect.height/2, 100);

        // Srca
        for(let i=0;i<20;i++){
            const heart = document.createElement('div');
            heart.textContent='❤️';
            heart.style.position='absolute';
            heart.style.left=(rect.left + rect.width/2)+'px';
            heart.style.top=(rect.top + rect.height/2)+'px';
            heart.style.fontSize=Math.random()*30+20+'px';
            heart.style.opacity=1;
            heart.style.transform=`translate(-50%, -50%) rotate(${Math.random()*360}deg)`;
            heart.style.transition='all 2s ease-out';
            document.body.appendChild(heart);
            setTimeout(()=>{
                heart.style.transform=`translate(${Math.random()*400-200}px, ${Math.random()*-400}px) rotate(${Math.random()*360}deg)`;
                heart.style.opacity=0;
            },50);
            setTimeout(()=>heart.remove(),2000);
        }

        setTimeout(()=>msg.remove(),3000);

        // Animacija kutije
        box.style.transform='scale(0.8) rotate(-20deg)';
        setTimeout(()=>{box.style.transform='scale(1) rotate(0deg)';},500);
    });
});
</script>
</body>
</html>
